{
  "permissions": {
    "allow": [
      "Bash(find:*)",
      "Bash(rg:*)",
      "Bash(grep:*)",
      "Bash(venv:*)",
      "Bash(ls:*)",
      "Bash(cd:*)",
      "Bash(sqlite3:*)",
      "Bash(python:*)",
      "Bash(head:*)",
      "Bash(xargs:*)",
      "Bash(cat:*)",
      "Bash(test:*)",
      "Bash(sort:*)",
      "Bash(wc:*)",
      "Bash(rm test_*)",
      "Bash(rm *_test.py)",
      "Bash(rm check_*)",
      "Bash(./venv/Scripts/python.exe:*)",
      "Bash(cp:*)",
      "Read(docs/**)",
      "Write(docs/**)",
      "Glob(docs/**)",
      "Read(src/**)",
      "Write(src/**)",
      "Glob(src/**)",
      "Read(sourcing/**)",
      "Write(sourcing/**)",
      "Glob(sourcing/**)",
      "Read(*.txt)",
      "Write(*.txt)",
      "Read(*.md)",
      "Write(*.md)",
      "Read(*.py)",
      "Write(*.py)",
      "Edit(**)",
      "Read(**)",
      "Write(**)",
      "Glob(**)",
      "Bash(\"C:\\Users\\hiroo\\Documents\\GitHub\\ecauto\\venv\\Scripts\\python.exe\":*)",
      "Bash(taskkill:*)",
      "Bash(nul)",
      "Bash(dir:*)",
      "Bash(timeout:*)",
      "WebFetch(domain:*)"
    ],
    "deny": [
      "Bash(del:*)",
      "Bash(rm:*)"
    ]
  },
  "autoApprove": {
    "commands": ["cd", "sqlite3", "python", "find", "head", "xargs", "cat", "test", "sort", "wc", "./venv/Scripts/python.exe"],
    "workingDirectories": ["C:/Users/hiroo/Documents/GitHub/ecauto"]
  },
  "env": {
    "PYTHONIOENCODING": "utf-8",
    "PYTHONUTF8": "1"
  },
  "systemPrompt": "【絶対厳守】Pythonスクリプトのコード内（print文、f-string、logging等の出力）では、絵文字・特殊文字（✓✗→←★等）を一切使用禁止。Windows cp932エラーを防ぐため。チャット応答での絵文字使用は可。\n\n【最重要】Python実行の標準形（これ以外は絶対禁止）：\npowershell -Command \"& 'C:\\Users\\hiroo\\Documents\\GitHub\\ecauto\\venv\\Scripts\\python.exe' スクリプトパス [オプション]\"\n\n基本例:\npowershell -Command \"& 'C:\\Users\\hiroo\\Documents\\GitHub\\ecauto\\venv\\Scripts\\python.exe' inventory\\scripts\\sync_inventory.py --dry-run\"\n\n出力を制限する場合:\npowershell -Command \"& 'C:\\Users\\hiroo\\Documents\\GitHub\\ecauto\\venv\\Scripts\\python.exe' inventory\\scripts\\sync_inventory.py --dry-run 2>&1 | Select-Object -Last 50\"\n\n【重要ポイント】\n・必ずPowerShell経由で実行（安定性のため）\n・Pythonパスは絶対パス（C:\\Users\\...）を使用\n・スクリプトパスはバックスラッシュ（\\）で記述\n・2>&1でエラー出力もキャプチャ\n・Select-Object -Last N で出力行数を制限可能\n\n❌ 使用禁止の書き方:\n・python コマンド単体（venv環境が保証されない）\n・venv/Scripts/python.exe の直接実行（PowerShellラップ必須）\n・相対パスでのPython実行\n\n【Windows環境の必須ルール】\n・ファイル内容表示は 'type'（catは使用不可）\n・ファイル削除は Pythonのos.remove()（delコマンド使用禁止）\n・&&による連結コマンドは使用禁止（個別のコマンドを順次実行すること）\n・sqlite3コマンドは使用不可（Pythonのsqlite3モジュールを使用）\n\n以下のルールに従ってください：\n・コードのデバッグ時は修正箇所のみを提示し、フルコードは出力しない\n・不明な仕様があれば推測せず必ず確認する\n・コード実行後は基本的な処理が完走できるか、エラーが発生しないかをテスト実行まで行う\n・テスト用スクリプトを作成する際は、必ずファイル名に'test_'プレフィックスまたは'check_'プレフィックスを付けること（例: test_api.py, check_daemon.py）\n・rmコマンドによるファイル削除は、'test_'または'check_'で始まるファイルのみ許可される。それ以外のファイルを削除する場合はPythonのos.remove()を使用すること"
}