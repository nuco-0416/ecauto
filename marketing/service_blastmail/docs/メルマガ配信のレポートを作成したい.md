# メルマガ配信のレポートを作成したい

## レポートのカラム
### BlastmailのバックナンバーAPIから取得　/message/backnumber/detail/search
### marketing/service_blastmail/scripts/get_delivery_history.pyで取得可能
### 詳細⇒/home/nuc_o/github/ecauto/marketing/service_blastmail/README.md
https://blastmail.jp/api/recent_xml.html
- 配信日    #dateTime.iso8601 date:	 配信時刻
- 配信時間  #dateTime.iso8601 date:	 配信時刻
- 配信数    #int total: 配信数
- 成功数    #int success: 成功
- エラー数  int failure: 失敗
- 開封数　　#https://blastmail.jp/api/recent_xml.html#section6
- メルマガタイトル  #string subject:
- 遷移先URL #string textPart: #string htmlPart:から抽出     

### Google Analytics APIから取得を検討
- 遷移先ページPV（クリック数）
- 遷移先ページPV率（クリック率）

### Shopify APIから取得を検討
- CV数
- 販売商品ID[]
- 売上金額

### 取得データから計算
- 売上単価
- エラー率
- 開封率/配信数
- CVR（対リンククリック）
- CVR（対、配信全数）

### 設定に記録などに記録？
- 掲載商品
- 配信元アドレス

## 保存
### 保存先
/home/nuc_o/github/ecauto/marketing/service_blastmail/data

### 保存形式
CSV

### 保存単位
- アカウントごとに1CSVにまとめたい
- 実行ごとに追加された配信を追記
　⇒配信から3日程度は反応がある場合があるので実行時から3日まえまでのデータを更新する）
